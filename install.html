
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Install instructions &#8212; cuvarbase 0.2.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Conditional Entropy" href="ce.html" />
    <link rel="prev" title="What’s new in cuvarbase" href="whatsnew.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="install-instructions">
<h1>Install instructions<a class="headerlink" href="#install-instructions" title="Permalink to this headline">¶</a></h1>
<p>These installation instructions are for Linux/BSD-based systems (OS X/macOS, Ubuntu, etc.). Windows users, your suggestions and feedback is welcome if we can make your life easier!</p>
<div class="section" id="installing-the-nvidia-toolkit">
<h2>Installing the Nvidia Toolkit<a class="headerlink" href="#installing-the-nvidia-toolkit" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">cuvarbase</span></code> requires PyCUDA and scikit-cuda, which both require the Nvidia toolkit for access to the Nvidia compiler, drivers, and runtime libraries.</p>
<p>Go to the <a class="reference external" href="https://developer.nvidia.com/cuda-downloads">NVIDIA Download page</a> and select the distribution for your operating system. Everything has been developed and tested using <strong>version 8.0</strong>, so it may be best to stick with that version for now until we verify that later versions are OK.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Make sure that your <code class="docutils literal"><span class="pre">$PATH</span></code> environment variable contains the location of the <code class="docutils literal"><span class="pre">CUDA</span></code> binaries. You can test this by trying
<code class="docutils literal"><span class="pre">which</span> <span class="pre">nvcc</span></code> from your terminal. If nothing is printed, you’ll have to amend your <code class="docutils literal"><span class="pre">~/.bashrc</span></code> file:</p>
<p><code class="docutils literal"><span class="pre">echo</span> <span class="pre">&quot;export</span> <span class="pre">PATH=/usr/local/cuda/bin:${PATH}&quot;</span> <span class="pre">&gt;&gt;</span> <span class="pre">~/.bashrc</span> <span class="pre">&amp;&amp;</span> <span class="pre">.</span> <span class="pre">~/.bashrc</span></code></p>
<p>The <code class="docutils literal"><span class="pre">&gt;&gt;</span></code> is not a typo – using one <code class="docutils literal"><span class="pre">&gt;</span></code> will <em>overwrite</em> the <code class="docutils literal"><span class="pre">~/.bashrc</span></code> file. Make sure you change <code class="docutils literal"><span class="pre">/usr/local/cuda</span></code> to the appropriate location of your Nvidia install.</p>
<p><strong>Also important</strong></p>
<p>Make sure your <code class="docutils literal"><span class="pre">$LD_LIBRARY_PATH</span></code> and <code class="docutils literal"><span class="pre">$DYLD_LIBRARY_PATH</span></code> are also similarly modified to include the <code class="docutils literal"><span class="pre">/lib</span></code> directory of the CUDA install:</p>
<p class="last"><code class="docutils literal"><span class="pre">echo</span> <span class="pre">&quot;export</span> <span class="pre">LD_LIBRARY_PATH=/usr/local/cuda/lib:${LD_LIBRARY_PATH}&quot;</span> <span class="pre">&gt;&gt;</span> <span class="pre">~/.bashrc</span> <span class="pre">&amp;&amp;</span> <span class="pre">.</span> <span class="pre">~/.bashrc</span></code>
<code class="docutils literal"><span class="pre">echo</span> <span class="pre">&quot;export</span> <span class="pre">DYLD_LIBRARY_PATH=/usr/local/cuda/lib:${DYLD_LIBRARY_PATH}&quot;</span> <span class="pre">&gt;&gt;</span> <span class="pre">~/.bashrc</span> <span class="pre">&amp;&amp;</span> <span class="pre">.</span> <span class="pre">~/.bashrc</span></code></p>
</div>
</div>
<div class="section" id="using-conda">
<h2>Using conda<a class="headerlink" href="#using-conda" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.continuum.io/downloads">Conda</a> is a great way to do this in a safe, isolated environment.</p>
<p>First create a new conda environment (named <code class="docutils literal"><span class="pre">pycu</span></code> here) that will use Python 2.7 (python 2.7, 3.4, 3.5, and 3.6
have been tested), with the numpy library installed.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">pycu</span> <span class="n">python</span><span class="o">=</span><span class="mf">2.7</span> <span class="n">numpy</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The numpy library <em>has</em> to be installed <em>before</em> PyCUDA is installed with pip.
The PyCUDA setup needs to be able to access the numpy library for building against it. You can do this with
the above command, or alternatively just do <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">numpy</span> <span class="pre">&amp;&amp;</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">cuvarbase</span></code></p>
</div>
<p>Then activate the virtual environment</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="n">activate</span> <span class="n">pycu</span>
</pre></div>
</div>
<p>and then use <code class="docutils literal"><span class="pre">pip</span></code> to install <code class="docutils literal"><span class="pre">cuvarbase</span></code></p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">cuvarbase</span>
</pre></div>
</div>
</div>
<div class="section" id="installing-with-just-pip">
<h2>Installing with just <code class="docutils literal"><span class="pre">pip</span></code><a class="headerlink" href="#installing-with-just-pip" title="Permalink to this headline">¶</a></h2>
<p><strong>If you don’t want to use conda</strong> the following should work with just pip</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">numpy</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">cuvarbase</span>
</pre></div>
</div>
</div>
<div class="section" id="troubleshooting-pycuda-installation-problems">
<h2>Troubleshooting PyCUDA installation problems<a class="headerlink" href="#troubleshooting-pycuda-installation-problems" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">PyCUDA</span></code> installation step may be a hiccup in this otherwise orderly process. If you run into problems installing <code class="docutils literal"><span class="pre">PyCUDA</span></code> with pip, you may have to install PyCUDA from source yourself. It’s not too bad, but if you experience any problems, please submit an <a class="reference external" href="https://github.com/johnh2o2/cuvarbase/issues">Issue</a> at the <code class="docutils literal"><span class="pre">cuvarbase</span></code> Github page and I’ll amend this documentation.</p>
<p>Below is a small bash script that (hopefully) automates the process of installing PyCUDA in the event of any problems you’ve encountered at this point.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nv">PYCUDA</span><span class="o">=</span><span class="s2">&quot;pycuda-2017.1.1&quot;</span>
<span class="nv">PYCUDA_URL</span><span class="o">=</span><span class="s2">&quot;https://pypi.python.org/packages/b3/30/9e1c0a4c10e90b4c59ca7aa3c518e96f37aabcac73ffe6b5d9658f6ef843/pycuda-2017.1.1.tar.gz#md5=9e509f53a23e062b31049eb8220b2e3d&quot;</span>
<span class="nv">CUDA_ROOT</span><span class="o">=</span>/usr/local/cuda

<span class="c1"># Download</span>
wget <span class="nv">$PYCUDA_URL</span>

<span class="c1"># Unpack</span>
tar xvf <span class="si">${</span><span class="nv">PYCUDA</span><span class="si">}</span>.tar.gz
<span class="nb">cd</span> <span class="nv">$PYCUDA</span>

<span class="c1"># Configure with current python exe</span>
./configure.py --python-exe<span class="o">=</span><span class="sb">`</span>which python<span class="sb">`</span> --cuda-root<span class="o">=</span><span class="nv">$CUDA_ROOT</span>
python setup.py build
python setup.py install
</pre></div>
</div>
<p>If everything goes smoothly, you should now test if <code class="docutils literal"><span class="pre">pycuda</span></code> is working correctly.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;import pycuda.autoinit; print &#39;Hurray!&#39;&quot;</span>
</pre></div>
</div>
<p>If everything works up until now, we should be ready to install <code class="docutils literal"><span class="pre">cuvarbase</span></code></p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">cuvarbase</span>
</pre></div>
</div>
</div>
<div class="section" id="installing-from-source">
<h2>Installing from source<a class="headerlink" href="#installing-from-source" title="Permalink to this headline">¶</a></h2>
<p>You can also install directly from the repository. Clone the <code class="docutils literal"><span class="pre">git</span></code> repository on your machine:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">johnh2o2</span><span class="o">/</span><span class="n">cuvarbase</span>
</pre></div>
</div>
<p>Then install!</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">cuvarbase</span>
<span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<p>The last command can also be done with pip:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="troubleshooting-on-a-mac">
<h2>Troubleshooting on a Mac<a class="headerlink" href="#troubleshooting-on-a-mac" title="Permalink to this headline">¶</a></h2>
<p>Nvidia offers <a class="reference external" href="https://developer.nvidia.com/cuda-downloads">CUDA for Mac OSX</a>. After installing the
package via downloading and running the <code class="docutils literal"><span class="pre">.dmg</span></code> file, you’ll have to make a couple of edits to your
<code class="docutils literal"><span class="pre">~/.bash_profile</span></code>:</p>
<div class="code sh highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">DYLD_LIBRARY_PATH</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{DYLD_LIBRARY_PATH}</span><span class="s2">:/usr/local/cuda/lib&quot;</span>
<span class="n">export</span> <span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/usr/local/cuda/bin:$</span><span class="si">{PATH}</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>and then source these changes in your current shell by running <code class="docutils literal"><span class="pre">.</span> <span class="pre">~/.bash_profile</span></code>.</p>
<p>Another important note: <strong>nvcc (8.0.61) does not appear to support the latest clang compiler</strong>. If this is
the case, running <code class="docutils literal"><span class="pre">python</span> <span class="pre">example.py</span></code> should produce the following error:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">nvcc</span> <span class="n">fatal</span>   <span class="p">:</span> <span class="n">The</span> <span class="n">version</span> <span class="p">(</span><span class="s1">&#39;80100&#39;</span><span class="p">)</span> <span class="n">of</span> <span class="n">the</span> <span class="n">host</span> <span class="n">compiler</span> <span class="p">(</span><span class="s1">&#39;Apple clang&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">supported</span>
</pre></div>
</div>
<p>You can fix this problem by temporarily downgrading your clang compiler. To do this:</p>
<ul class="simple">
<li><a class="reference external" href="http://adcdownload.apple.com/Developer_Tools/Command_Line_Tools_OS_X_10.11_for_Xcode_7.3.1/Command_Line_Tools_OS_X_10.11_for_Xcode_7.3.1.dmg">Download Xcode command line tools 7.3.1</a></li>
<li>Install.</li>
<li>Run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">xcode-select</span> <span class="pre">--switch</span> <span class="pre">/Library/Developer/CommandLineTools</span></code> until <code class="docutils literal"><span class="pre">clang</span> <span class="pre">--version</span></code> says <code class="docutils literal"><span class="pre">7.3</span></code>.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="index.html">cuvarbase</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html">What’s new in cuvarbase</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Install instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installing-the-nvidia-toolkit">Installing the Nvidia Toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-conda">Using conda</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-with-just-pip">Installing with just <code class="docutils literal"><span class="pre">pip</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting-pycuda-installation-problems">Troubleshooting PyCUDA installation problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-from-source">Installing from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting-on-a-mac">Troubleshooting on a Mac</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ce.html">Conditional Entropy</a></li>
<li class="toctree-l1"><a class="reference internal" href="lomb.html">Lomb-Scargle periodogram</a></li>
<li class="toctree-l1"><a class="reference internal" href="bls.html">Box least squares (BLS) periodogram</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">API documentation</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="whatsnew.html" title="previous chapter">What’s new in cuvarbase</a></li>
      <li>Next: <a href="ce.html" title="next chapter">Conditional Entropy</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, John Hoffman.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/install.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>